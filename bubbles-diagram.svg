<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f5f5f5"/>
  
  <!-- Title -->
  <text x="600" y="40" font-size="32" font-weight="bold" text-anchor="middle" fill="#333">
    Understanding BUBBLES Property in LWC
  </text>
  
  <!-- Left Side: bubbles: false -->
  <g>
    <!-- Container -->
    <rect x="50" y="80" width="500" height="650" fill="white" stroke="#e74c3c" stroke-width="3" rx="10"/>
    
    <!-- Title -->
    <text x="300" y="130" font-size="24" font-weight="bold" text-anchor="middle" fill="#e74c3c">
      ❌ bubbles: false
    </text>
    <text x="300" y="160" font-size="14" text-anchor="middle" fill="#666">
      Event STOPS (doesn't propagate)
    </text>
    
    <!-- Parent Component -->
    <rect x="80" y="190" width="440" height="100" fill="#ecf0f1" stroke="#95a5a6" stroke-width="2" rx="5"/>
    <text x="300" y="220" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      Parent Component
    </text>
    <text x="300" y="245" font-size="13" text-anchor="middle" fill="#e74c3c">
      ❌ CANNOT receive event
    </text>
    <text x="300" y="270" font-size="12" text-anchor="middle" fill="#666">
      oncustomevent={handleChildEvent}
    </text>
    
    <!-- Arrow DOWN (blocked) -->
    <line x1="300" y1="290" x2="300" y2="330" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,5"/>
    <circle cx="300" cy="325" r="8" fill="#e74c3c"/>
    <text x="320" y="315" font-size="12" fill="#e74c3c" font-weight="bold">
      BLOCKED
    </text>
    
    <!-- Wrapper Component -->
    <rect x="80" y="330" width="440" height="110" fill="#fff3cd" stroke="#ffc107" stroke-width="2" rx="5"/>
    <text x="300" y="360" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      Wrapper Component
    </text>
    <text x="300" y="385" font-size="13" text-anchor="middle" fill="#f39c12">
      ✓ Receives event
    </text>
    <text x="300" y="410" font-size="12" text-anchor="middle" fill="#666">
      &lt;slot oncustomevent={handleChildEvent}&gt;
    </text>
    <text x="300" y="430" font-size="12" text-anchor="middle" fill="#666">
      Event stops here!
    </text>
    
    <!-- Arrow DOWN -->
    <line x1="300" y1="440" x2="300" y2="480" stroke="#333" stroke-width="2"/>
    <polygon points="300,480 295,470 305,470" fill="#333"/>
    
    <!-- Child Component -->
    <rect x="80" y="480" width="440" height="110" fill="#d4edda" stroke="#28a745" stroke-width="2" rx="5"/>
    <text x="300" y="510" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      Child Component
    </text>
    <text x="300" y="535" font-size="13" text-anchor="middle" fill="#28a745">
      ✓ Event fires here
    </text>
    <text x="300" y="560" font-size="12" text-anchor="middle" fill="#666">
      bubbles: false
    </text>
    <text x="300" y="580" font-size="11" text-anchor="middle" fill="#e74c3c" font-weight="bold">
      dispatchEvent(event)
    </text>
  </g>
  
  <!-- Right Side: bubbles: true -->
  <g>
    <!-- Container -->
    <rect x="650" y="80" width="500" height="650" fill="white" stroke="#27ae60" stroke-width="3" rx="10"/>
    
    <!-- Title -->
    <text x="900" y="130" font-size="24" font-weight="bold" text-anchor="middle" fill="#27ae60">
      ✅ bubbles: true
    </text>
    <text x="900" y="160" font-size="14" text-anchor="middle" fill="#666">
      Event propagates UP
    </text>
    
    <!-- Parent Component -->
    <rect x="680" y="190" width="440" height="100" fill="#d4edda" stroke="#27ae60" stroke-width="2" rx="5"/>
    <text x="900" y="220" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      Parent Component
    </text>
    <text x="900" y="245" font-size="13" text-anchor="middle" fill="#27ae60">
      ✅ Receives event
    </text>
    <text x="900" y="270" font-size="12" text-anchor="middle" fill="#666">
      oncustomevent={handleChildEvent}
    </text>
    
    <!-- Arrow UP (with bubble) -->
    <defs>
      <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
        <path d="M0,0 L0,6 L9,3 z" fill="#27ae60"/>
      </marker>
    </defs>
    
    <line x1="900" y1="290" x2="900" y2="330" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowGreen)"/>
    <circle cx="900" cy="310" r="6" fill="#27ae60"/>
    <circle cx="900" cy="320" r="5" fill="#27ae60" opacity="0.6"/>
    <text x="920" y="315" font-size="12" fill="#27ae60" font-weight="bold">
      BUBBLES UP
    </text>
    
    <!-- Wrapper Component -->
    <rect x="680" y="330" width="440" height="110" fill="#d4edda" stroke="#27ae60" stroke-width="2" rx="5"/>
    <text x="900" y="360" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      Wrapper Component
    </text>
    <text x="900" y="385" font-size="13" text-anchor="middle" fill="#27ae60">
      ✅ Receives event
    </text>
    <text x="900" y="410" font-size="12" text-anchor="middle" fill="#666">
      &lt;slot oncustomevent={handleChildEvent}&gt;
    </text>
    <text x="900" y="430" font-size="12" text-anchor="middle" fill="#666">
      Continues bubbling up!
    </text>
    
    <!-- Arrow UP -->
    <line x1="900" y1="440" x2="900" y2="480" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowGreen)"/>
    <circle cx="900" cy="460" r="6" fill="#27ae60"/>
    
    <!-- Child Component -->
    <rect x="680" y="480" width="440" height="110" fill="#d4edda" stroke="#27ae60" stroke-width="2" rx="5"/>
    <text x="900" y="510" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
      Child Component
    </text>
    <text x="900" y="535" font-size="13" text-anchor="middle" fill="#27ae60">
      ✅ Event fires here
    </text>
    <text x="900" y="560" font-size="12" text-anchor="middle" fill="#666">
      bubbles: true
    </text>
    <text x="900" y="580" font-size="11" text-anchor="middle" fill="#27ae60" font-weight="bold">
      dispatchEvent(event)
    </text>
  </g>
  
  <!-- Bottom Key Takeaway -->
  <rect x="50" y="750" width="1100" height="30" fill="#ecf0f1" stroke="#333" stroke-width="1" rx="5"/>
  <text x="600" y="771" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">
    KEY: bubbles: false = Event trapped | bubbles: true = Event propagates through DOM tree
  </text>
</svg>