<svg width="800" height="650" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    Event Flow: composed: true vs composed: false
  </text>
  
  <!-- LEFT SIDE: composed: true -->
  <text x="200" y="60" font-size="18" font-weight="bold" text-anchor="middle" fill="#4caf50">
    composed: true ✅
  </text>
  
  <!-- Child starts -->
  <circle cx="200" cy="100" r="8" fill="#2196f3"/>
  <text x="200" y="145" font-size="12" text-anchor="middle" fill="#333">Child dispatches</text>
  <text x="200" y="160" font-size="12" text-anchor="middle" fill="#333">event</text>
  
  <!-- Arrow down -->
  <line x1="200" y1="160" x2="200" y2="190" stroke="#4caf50" stroke-width="2"/>
  <polygon points="200,195 196,185 204,185" fill="#4caf50"/>
  
  <!-- Boundary 1 -->
  <line x1="150" y1="200" x2="250" y2="200" stroke="#4caf50" stroke-width="3"/>
  <text x="200" y="215" font-size="11" text-anchor="middle" fill="#4caf50" font-weight="bold">
    CROSSES Boundary ✅
  </text>
  
  <!-- Arrow down -->
  <line x1="200" y1="220" x2="200" y2="250" stroke="#4caf50" stroke-width="2"/>
  <polygon points="200,255 196,245 204,245" fill="#4caf50"/>
  
  <!-- Wrapper receives -->
  <circle cx="200" cy="270" r="8" fill="#ff9800"/>
  <text x="200" y="315" font-size="12" text-anchor="middle" fill="#333">Wrapper receives</text>
  <text x="200" y="330" font-size="12" text-anchor="middle" fill="#333">event ✅</text>
  
  <!-- Arrow down -->
  <line x1="200" y1="330" x2="200" y2="360" stroke="#4caf50" stroke-width="2"/>
  <polygon points="200,365 196,355 204,355" fill="#4caf50"/>
  
  <!-- Boundary 2 -->
  <line x1="150" y1="370" x2="250" y2="370" stroke="#4caf50" stroke-width="3"/>
  <text x="200" y="385" font-size="11" text-anchor="middle" fill="#4caf50" font-weight="bold">
    CROSSES Boundary ✅
  </text>
  
  <!-- Arrow down -->
  <line x1="200" y1="390" x2="200" y2="420" stroke="#4caf50" stroke-width="2"/>
  <polygon points="200,425 196,415 204,415" fill="#4caf50"/>
  
  <!-- Grandparent receives -->
  <circle cx="200" cy="440" r="8" fill="#2e7d32"/>
  <text x="200" y="485" font-size="12" text-anchor="middle" fill="#333">Grandparent</text>
  <text x="200" y="500" font-size="12" text-anchor="middle" fill="#333">receives event ✅</text>
  
  <!-- RIGHT SIDE: composed: false -->
  <text x="600" y="60" font-size="18" font-weight="bold" text-anchor="middle" fill="#f44336">
    composed: false ❌
  </text>
  
  <!-- Child starts -->
  <circle cx="600" cy="100" r="8" fill="#2196f3"/>
  <text x="600" y="145" font-size="12" text-anchor="middle" fill="#333">Child dispatches</text>
  <text x="600" y="160" font-size="12" text-anchor="middle" fill="#333">event</text>
  
  <!-- Arrow down -->
  <line x1="600" y1="160" x2="600" y2="190" stroke="#f44336" stroke-width="2"/>
  <polygon points="600,195 596,185 604,185" fill="#f44336"/>
  
  <!-- Boundary 1 - BLOCKED -->
  <line x1="550" y1="200" x2="650" y2="200" stroke="#f44336" stroke-width="4"/>
  <text x="600" y="215" font-size="11" text-anchor="middle" fill="#f44336" font-weight="bold">
    BLOCKED ❌
  </text>
  
  <!-- Event stops -->
  <text x="600" y="250" font-size="12" text-anchor="middle" fill="#f44336" font-weight="bold">
    EVENT STOPS HERE
  </text>
  
  <!-- Wrapper still receives (same context) -->
  <circle cx="600" cy="280" r="8" fill="#ff9800"/>
  <text x="600" y="325" font-size="12" text-anchor="middle" fill="#333">Wrapper receives</text>
  <text x="600" y="340" font-size="12" text-anchor="middle" fill="#333">event ✅</text>
  <text x="600" y="355" font-size="10" text-anchor="middle" fill="#999">(same DOM context)</text>
  
  <!-- Arrow down dashed -->
  <line x1="600" y1="360" x2="600" y2="390" stroke="#ccc" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="600,395 596,385 604,385" fill="#ccc"/>
  
  <!-- Boundary 2 - BLOCKED -->
  <line x1="550" y1="400" x2="650" y2="400" stroke="#f44336" stroke-width="4"/>
  <text x="600" y="415" font-size="11" text-anchor="middle" fill="#f44336" font-weight="bold">
    BLOCKED ❌
  </text>
  
  <!-- Grandparent does NOT receive -->
  <circle cx="600" cy="445" r="8" fill="#ccc"/>
  <text x="600" y="490" font-size="12" text-anchor="middle" fill="#666">Grandparent does</text>
  <text x="600" y="505" font-size="12" text-anchor="middle" fill="#666">NOT receive ❌</text>
  
  <!-- Bottom Legend -->
  <rect x="50" y="540" width="700" height="100" fill="#f5f5f5" stroke="#ddd" stroke-width="1" rx="5"/>
  <text x="400" y="565" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">KEY INSIGHT</text>
  <text x="70" y="590" font-size="12" fill="#555">
    • composed: true allows events to cross ALL shadow DOM boundaries
  </text>
  <text x="70" y="610" font-size="12" fill="#555">
    • composed: false blocks events at the FIRST shadow DOM boundary they encounter
  </text>
  <text x="70" y="630" font-size="12" fill="#555">
    • Wrapper can still receive because it's in the same shadow DOM context as the child
  </text>
</svg>